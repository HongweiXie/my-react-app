(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{114:function(e,t){},152:function(e,t,n){e.exports=n(165)},157:function(e,t,n){},160:function(e,t){},165:function(e,t,n){"use strict";n.r(t);var i=n(8),o=n.n(i),a=n(111),r=n.n(a),c=(n(157),n(118)),l=n(106),s=n(136),u=n(131),d=n(178),m=n(117),p=n(191),f=n(188),g=n(184),h=n(187),b=n(92),v=n.n(b),w=n(193),y=Object({NODE_ENV:"production",PUBLIC_URL:"/my-react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).MapboxAccessToken||"pk.eyJ1Ijoic2h1b2ZhbiIsImEiOiJja2NlZ3BoOWUwODYwMnpwaGpkamx0aGJmIn0.rkJY6OYlU7c7F0rFsafapQ";v.a.accessToken=y;var O,S,j,k,C,x={id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",zoom:10,minZoom:1,maxZoom:25,paint:{"fill-extrusion-color":"#4a5057","fill-extrusion-height":["get","height"]}},E="res/trips-v7.json",L="res/uber-pickup-locations.json",T=new u.a({color:[255,255,255],intensity:1}),P=new d.a({color:[255,255,255],intensity:2,position:[-74.05,40.7,8e3]}),M={buildingColor:[74,80,87],trailColor0:[253,128,93],trailColor1:[23,240,110],material:{ambient:.1,diffuse:.6,shininess:32,specularColor:[60,64,70]},effects:[new m.a({ambientLight:T,pointLight:P})],groundColor:[0,0,0,0]},_=180,A=[[1,152,189,80],[73,227,206,80],[216,254,181,80],[254,237,177,80],[254,173,84,80],[209,55,78,80]],W=1,D=.03,F=50,I=-74,J=40.72,R=13,z=65,B=20,U=[[[-74,40.7],[-74.02,40.7],[-74.02,40.72],[-74,40.72]]];function Z(e){var t=e.data,n=void 0===t?L:t,a=(e.buildings,e.trips),r=void 0===a?E:a,u=e.mapStyle,d=void 0===u?"mapbox://styles/mapbox/dark-v9":u,m=e.trailLength,b=void 0===m?_:m,v=e.theme,T=void 0===v?M:v,P=e.loopLength,Z=void 0===P?1800:P,K=e.animationSpeed,N=void 0===K?1:K,V=e.intensity,Y=void 0===V?W:V,q=e.threshold,G=void 0===q?D:q,H=e.radiusPixels,Q=void 0===H?F:H,$=e.colorRange,X=void 0===$?A:$,ee=Object(i.useState)(0),te=Object(l.a)(ee,2),ne=te[0],ie=te[1],oe=Object(i.useState)({}),ae=Object(l.a)(oe,1)[0],re=Object(i.useState)({latitude:J,longitude:I,zoom:R,bearing:B,pitch:z}),ce=Object(l.a)(re,2),le=ce[0],se=ce[1],ue=function e(){ie((function(e){return(e+N)%Z})),se((function(e){return Object(c.a)(Object(c.a)({},e),{},{longitude:j,latitude:k,zoom:C,bearing:O,pitch:S})})),ae.id=window.requestAnimationFrame(e)};Object(i.useEffect)((function(){return ae.id=window.requestAnimationFrame(ue),function(){return window.cancelAnimationFrame(ae.id)}}),[ae]);var de=Object(i.useRef)(null),me=Object(i.useRef)(null),pe=Object(i.useCallback)((function(){var e=de.current.getMap(),t=me.current.deck,i=new w.a({data:n,type:h.a,id:"heatmp-layer",pickable:!0,getPosition:function(e){return[e[0],e[1]]},getWeight:function(e){return e[2]},radiusPixels:Q,intensity:Y,threshold:G,colorRange:X},t);e.addLayer(x),e.addLayer(i)}),[]),fe=[new f.a({id:"ground",data:U,getPolygon:function(e){return e},stroked:!1,getFillColor:M.groundColor}),new g.a({id:"trips",data:r,getPath:function(e){return e.path},getTimestamps:function(e){return e.timestamps},getColor:function(e){return 0===e.vendor?T.trailColor0:T.trailColor1},opacity:.3,widthMinPixels:2,rounded:!0,trailLength:b,currentTime:ne,antialiase:!0,shadowEnabled:!1})];return o.a.createElement(p.a,{ref:me,layers:fe,effects:T.effects,initialViewState:le,controller:!0,onViewStateChange:function(e){var t=e.viewState;j=t.longitude,k=t.latitude,C=t.zoom}},o.a.createElement(s.a,{reuseMaps:!0,ref:de,mapStyle:d,preventStyleDiffing:!0,mapboxApiAccessToken:y,onLoad:pe}))}j=I,k=J,C=R,window.addEventListener("deviceorientation",(function(e){O=e.alpha,e.beta,O=360-O,S=e.gamma,S=Math.abs(S),S=Math.min(S,60)}),!0);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[152,1,2]]]);
//# sourceMappingURL=main.d003cf7d.chunk.js.map